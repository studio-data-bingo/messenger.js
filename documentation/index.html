<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1"/>
	<title>Documentation Messenger.js</title>
	<link rel="stylesheet" href="./assets/style.css">
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
	<script src="./assets/prism.min.js"></script>
	<link rel="stylesheet" href="./assets/prism.css">

	<!-- MESSENGER.JS -->
	<script src="../dist/messenger.js"></script>
	<link rel="stylesheet" href="../dist/messenger.css">
	<!------------------>
	
</head>
<body>
	<section>
		<article>
			<h1>Messenger.js</h1>
			<figure>
				<img src="" alt="">
			</figure>
		</article>

		<article>
			<h2>Description</h2>
			<p>Messenger.js is a library for easily creating a chat interface and managing message generation</p>
		</article>

		<article>
			<h2>Usage</h2>
			<p>To create your chat interface, just declare Messenger.js after installing it in your project. You can specify in which container your chat will be display.</p>
			<pre><code class="language-javascript">let messenger = new Messenger(?container);</code></pre>
			<h4>Parameters</h4>
			<p>options.container {String} Optionnal container for the messenger HTML element</p>			
		</article>
		
		<article>
			<h2>Properties</h2>
			
			<div class="methode item">
				<h3>receiver</h3>
				<p>Before calling a methode add this propertie to set the user to receiver so the message will be display on the left</p>
				<pre><code class="language-javascript">messenger.receiver.text("A message from the receiver");</code></pre>
			</div>

			<div class="methode item">
				<h3>sender</h3>
				<p>Before calling a methode add this propertie to set the user to sender so the message will be display on the right</p>
				<pre><code class="language-javascript">messenger.sender.text("A message from the sender");</code></pre>
			</div>

			<div class="methode item">
				<h3>application</h3>
				<p>This is a generic user to display application message on the center of the interface</p>
				<pre><code class="language-javascript">messenger.application.text("A message from the application");</code></pre>
			</div>
		</article>

		<article>
			<h2>Methodes</h2>
			
			<div class="methode item">
				<h3>.text()</h3>
				<p>Create a text message</p>

				<h4>Usage</h4>
				<pre><code class="language-javascript">messenger.receiver.text(content, ?{comment: ?comment, callback ?callback});</code></pre>
				
				<h4>Parameters</h4>
				<p>content {String} Text content of the message</p>
				<p>options.comment {String} Optional comment of the message</p>
				<p>options.callback {Function} Optional callback when the message is append to the document</p>

				<h4>Example</h4>
				<div class="example">
					<div id="text-message"></div>
				</div>
				<pre><code class="language-javascript">let text = new Messenger({container:"#text-message"});

text.receiver.text("This is a text message");
text.receiver.text("Another text message");

//Text message with comment
text.sender.text("A message from the sender", {comment:"This is a comment"});
text.receiver.text("A message from the receiver", {comment:"A comment above the receiver message"});

//Text message with callback
text.sender.text("Message with callback", {comment:"Message with callback (look at the consle)", callback: (el) => { console.log(el) }});</code></pre>
				<script>
					let text = new Messenger({container:"#text-message"});

					text.receiver.text("This is a text message");
					text.receiver.text("Another text message");
					text.sender.text("A message from the sender", {comment:"This is a comment"});
					text.receiver.text("A message from the receiver", {comment:"A comment above the receiver message"});
					text.sender.text("Message with callback", {
						comment:"Message with callback (look at the consle)",
						callback: (el) => { console.log(el) }
					});
				</script>
			</div>

			<div class="methode item">
				<h3>.image()</h3>
				<p>Create an image message</p>

				<h4>Usage</h4>
				<pre><code class="language-javascript">messenger.receiver.image(src, ?{comment: ?comment, callback ?callback});</code></pre>
				
				<h4>Parameters</h4>
				<p>src {String} Image path</p>
	 			<p>options.comment {String} Optional comment of the message</p>
				<p>options.callback {Function} Optional callback when the message is append to the document</p>
				
				<h4>Example</h4>
				<div class="example">
					<div id="image-message"></div>
				</div>
				<pre><code class="language-javascript">let image = new Messenger({container:"#image-message"});

image.receiver.image("mentalista-guinguette.jpg");

//Image with comment
image.sender.image("mentalista-guinguette.jpg", {comment:"Image with comment"});

//Image with callback
image.sender.image("mentalista-guinguette.jpg", {comment:"Image with callback (look at the console)", callback: (el) => { console.log(el) }});</code></pre>
				<script>
					let image = new Messenger({container:"#image-message"});

					image.receiver.image("https://mentalista.fr/img/exposition/futur-en-seine-gaite-lyrique_2016-06-09/medium/futur-en-seine-gaite-lyrique_2016-06-09_medium_1.jpg");
					image.sender.image("https://mentalista.fr/img/exposition/futur-en-seine-gaite-lyrique_2016-06-09/medium/futur-en-seine-gaite-lyrique_2016-06-09_medium_1.jpg", {comment:"Image with comment"});
					image.sender.image("https://mentalista.fr/img/exposition/futur-en-seine-gaite-lyrique_2016-06-09/medium/futur-en-seine-gaite-lyrique_2016-06-09_medium_1.jpg", {comment:"Image with callback (look at the console)", callback: (el) => { console.log(el) }});
				</script>
			</div>

			<div class="methode item">
				<h3>.link()</h3>
				<p>Create a link message</p>

				<h4>Usage</h4>
				<pre><code class="language-javascript">messenger.receiver.link({url, title, source, ?img}, ?{comment: ?comment, callback ?callback});</code></pre>
				
				<h4>Parameters</h4>
				<p>link.url {String} Link url path</p>
				<p>link.title {String} Link title</p>
				<p>link.source {String} Link source (ex: mentalista.fr)</p>
				<p>link.img {String} Optional link illustration</p>
	 			<p>options.comment {String} Optional comment of the message</p>
				<p>options.callback {Function} Optional callback when the message is append to the document</p>

				<h4>Example</h4>
				<div class="example">
					<div id="link-message"></div>
				</div>
				<pre><code class="language-javascript">let link = new Messenger({container:"#link-message"});

link.receiver.link({
	url: "https://www.courrierinternational.com/article/chansons-des-programmes-dintelligence-artificielle-font-leur-eurovision",
	title: "Des programmes d’intelligence artificielle font leur Eurovision",
	source: "Courrierinternational.com",
	img: "https://www.courrierinternational.com/sites/ci_master/themes/ci/images/facebook_img_defaut.png"
});

//Link with comment
link.receiver.link({
	url: "https://www.courrierinternational.com/article/chansons-des-programmes-dintelligence-artificielle-font-leur-eurovision",
	title: "Des programmes d’intelligence artificielle font leur Eurovision",
	source: "Courrierinternational.com",
	img: "https://www.courrierinternational.com/sites/ci_master/themes/ci/images/facebook_img_defaut.png"
},{
	comment: "Link comment"
});

//Link without image
link.sender.link({
	url: "https://www.courrierinternational.com/article/chansons-des-programmes-dintelligence-artificielle-font-leur-eurovision",
	title: "Des programmes d’intelligence artificielle font leur Eurovision",
	source: "Courrierinternational.com"
},{
	comment: "Link without image"
});

//Link with callback
link.sender.link({
	url: "https://www.courrierinternational.com/article/chansons-des-programmes-dintelligence-artificielle-font-leur-eurovision",
	title: "Des programmes d’intelligence artificielle font leur Eurovision",
	source: "Courrierinternational.com",
	img: "https://www.courrierinternational.com/sites/ci_master/themes/ci/images/facebook_img_defaut.png"
},{
	comment: "Message with callback",
	callback: (el) => { 
		console.log(el); 
	}
});</code></pre>
				<script>
					let link = new Messenger({container:"#link-message"});

					link.receiver.link({
						url: "https://www.courrierinternational.com/article/chansons-des-programmes-dintelligence-artificielle-font-leur-eurovision",
						title: "Des programmes d’intelligence artificielle font leur Eurovision",
						source: "Courrierinternational.com",
						img: "https://www.courrierinternational.com/sites/ci_master/themes/ci/images/facebook_img_defaut.png"
					});
					link.receiver.link({
						url: "https://www.courrierinternational.com/article/chansons-des-programmes-dintelligence-artificielle-font-leur-eurovision",
						title: "Des programmes d’intelligence artificielle font leur Eurovision",
						source: "Courrierinternational.com",
						img: "https://www.courrierinternational.com/sites/ci_master/themes/ci/images/facebook_img_defaut.png"
					},{
						comment: "Link comment"
					});
					link.sender.link({
						url: "https://www.courrierinternational.com/article/chansons-des-programmes-dintelligence-artificielle-font-leur-eurovision",
						title: "Des programmes d’intelligence artificielle font leur Eurovision",
						source: "Courrierinternational.com"
					},{
						comment: "Link without image"
					});
					link.sender.link({
						url: "https://www.courrierinternational.com/article/chansons-des-programmes-dintelligence-artificielle-font-leur-eurovision",
						title: "Des programmes d’intelligence artificielle font leur Eurovision",
						source: "Courrierinternational.com",
						img: "https://www.courrierinternational.com/sites/ci_master/themes/ci/images/facebook_img_defaut.png"
					},{
						comment: "Message with callback",
						callback: (el) => { 
							console.log(el); 
						}
					});
				</script>
			</div>

			<div class="methode item">
				<h3>.audio()</h3>
				<p>Create an audio message</p>

				<h4>Usage</h4>
				<pre><code class="language-javascript">messenger.receiver.audio(src, ?{comment: ?comment, callback ?callback});</code></pre>
				
				<h4>Parameters</h4>
				<p>src {String} Audio path</p>
	 			<p>options.comment {String} Optional comment of the message</p>
				<p>options.callback {Function} Optional callback when the message is append to the document</p>

				<h4>Returns</h4>
				<p>audio element</p>

				<h4>Example</h4>
				<div class="example">
					<div id="audio-message"></div>
				</div>
				<pre><code class="language-javascript">let audio = new Messenger({container:"#audio-message"});

audio.receiver.audio("https://sandbox.data.bingo/roue-des-datapepettes/sounds/animals/canard.mp3");

//Audio with comment
audio.sender.audio("https://sandbox.data.bingo/roue-des-datapepettes/sounds/animals/canard.mp3", {comment:"Audio with comment"});

//Audio with callback
audio.sender.audio("https://sandbox.data.bingo/roue-des-datapepettes/sounds/animals/canard.mp3", {comment:"Audio with callback (look at the console)", callback: (el) => { console.log(el); /*el.play();*/ }});</code></pre>
				<script>
					let audio = new Messenger({container:"#audio-message"});

					audio.receiver.audio("https://sandbox.data.bingo/roue-des-datapepettes/sounds/animals/canard.mp3");
					audio.sender.audio("https://sandbox.data.bingo/roue-des-datapepettes/sounds/animals/canard.mp3", {comment:"Audio with comment"});

					audio.sender.audio(
						"https://sandbox.data.bingo/roue-des-datapepettes/sounds/animals/canard.mp3",
						{
							comment:"Audio with callback (look at the console)",
							callback: (el) => {
								console.log(el);
								element = el;
							}
						}
					);
				</script>

			</div>

			<div class="methode item">
				<h3>.loader()</h3>
				<p>Show loading message</p>

				<h4>Usage</h4>
				<pre><code class="language-javascript">messenger.receiver.loader();</code></pre>
				
				<h4>Example</h4>
				<div class="example">
					<div id="loader-message"></div>
				</div>
				<pre><code class="language-javascript">let loader = new Messenger({container:"#loader-message"});

loader.receiver.loader();</code></pre>
				<script>
					let loader = new Messenger({container:"#loader-message"});
					loader.receiver.loader();
				</script>

			</div>
		</article>

		<article>
			<h2>Custom Event</h2>
			
			<div class="methode item">
				<h3>messenger</h3>
				<p>You can easily generate a message anywhere in your javascript by calling the "messenger" event</p>

				<h4>Usage</h4>
				<pre><code class="language-javascript">//Don't forget to initialise messenger before dispatch an event
//In the content variable put the values how they are expected by the function you call
//Comment and callback are optional variable

let event = new CustomEvent('messenger', {
    'detail': {
        user: 'sender',
        type: 'link',
        content: {
            url: "https://data.bingo",
            title: "Studio de design & technologie",
            source: "https://data.bingo",
            img: "https://data.bingo/img/index/equipe.jpg"
        },
        comment: "A fabulous team <3",
        callback: (e) =>{
            console.log(e);
        }
    }
});
document.dispatchEvent(event);

let anotherEvent = new CustomEvent('messenger', {
    'detail': {
        user: 'receiver',
        type: 'text',
        content: "Omg they are so beautiful ❤️❤️"
    }
});
document.dispatchEvent(anotherEvent);</code></pre>

				<h4>Example</h4>
				<div class="example">
					<div id="event-message"></div>
				</div>
				<script>
					let messengerEvent = new Messenger({container:"#event-message"});

					let event = new CustomEvent('messenger', {
					    'detail': {
					        user: 'sender',
					        type: 'link',
					        content: {
					            "url": "https://data.bingo",
					            "title": "Studio de design & technologie",
					            "source": "https://data.bingo",
					            "img": "https://data.bingo/img/index/equipe.jpg"
					        },
					        comment: "A fabulous team <3",
					        callback: (e) =>{
					            console.log(e);
					        }
					    }
					});
					document.dispatchEvent(event);
					
					let anotherEvent = new CustomEvent('messenger', {
					    'detail': {
					        user: 'receiver',
					        type: 'text',
					        content: "Omg they are so beautiful ❤️❤️"
					    }
					});
					document.dispatchEvent(anotherEvent);

				</script>
			</div>
		</article>

		<article>
			Messenger.js is MIT Licensed, Copyright © 2020 Bastien DIDIER, https://data.bingo
		</article>
	</section>
</body>
</html>